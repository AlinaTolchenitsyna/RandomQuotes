{% extends "base.html" %}
{% block title %}–î–∞—à–±–æ—Ä–¥{% endblock %}

{% block content %}
  <h1 class="mb-4">–î–∞—à–±–æ—Ä–¥</h1>

  <div class="row g-3 mb-4">
    <div class="col-md-3">
      <div class="card p-3">
        <h6 class="mb-0">–í—Å–µ–≥–æ —Ü–∏—Ç–∞—Ç</h6>
        <p class="display-6 mb-0">{{ total_quotes }}</p>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card p-3">
        <h6 class="mb-0">–í—Å–µ–≥–æ –ª–∞–π–∫–æ–≤</h6>
        <p class="display-6 mb-0">{{ total_likes }}</p>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card p-3">
        <h6 class="mb-0">–í—Å–µ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤</h6>
        <p class="display-6 mb-0">{{ total_views }}</p>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card p-3">
        <h6 class="mb-0">–°—Ä–µ–¥–Ω–∏–π –≤–µ—Å</h6>
        <p class="display-6 mb-0">{{ avg_weight }}</p>
      </div>
    </div>
  </div>

  <h3 class="mb-3">–¢–æ–ø –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø–æ –ª–∞–π–∫–∞–º</h3>
  {% if top_sources %}
    <div class="list-group">
      {% for s in top_sources %}
        <div class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <strong>{{ s.name }}</strong>
            <div><small class="text-muted">–¶–∏—Ç–∞—Ç: {{ s.num_quotes }}</small></div>
          </div>
          <div class="text-end">
            <div class="fw-bold">{{ s.sum_likes|default:0 }} üëç</div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="alert alert-info">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º.</div>
  {% endif %}
{% endblock %}
